"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.inlineString = exports.CLIError = void 0;

/**
 * CLIError
 *
 * Features:
 * - uses original stack trace when error object is passed
 * - makes an inline string to match current styling inside CLI
 */
class CLIError extends Error {
  constructor(msg, originError) {
    super(inlineString(msg));

    if (originError) {
      this.stack = typeof originError === 'string' ? originError : originError.stack.split('\n').slice(0, 2).join('\n');
    } else {
      Error.captureStackTrace(this, CLIError);
    }
  }

}

exports.CLIError = CLIError;

const inlineString = str => str.replace(/(\s{2,})/gm, ' ').trim();

exports.inlineString = inlineString;